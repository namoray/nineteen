version: "3"

tasks:
  control_node_dev:
    cmds:
      - ENV_FILE=.dev.env python -m validator.control_node.src.main
  
  query_node_dev:
    cmds: 
      - ENV_FILE=.dev.env python -m validator.query_node.src.main

  dev_setup:
    cmds:
      - docker-compose --env-file .dev.env -f docker-compose.dev.yml up -d
      - docker kill dev_query_node dev_control_node
      - docker-compose --env-file .dev.env -f docker-compose.dev.yml -f docker-compose.utils.yml up -d